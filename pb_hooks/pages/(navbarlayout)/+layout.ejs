<!doctype html>
<html lang="en" data-theme="nord" x-data="shell()">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Dancing+Script:wght@400;700&family=Lato:wght@300;400;700&display=swap"
            rel="stylesheet"
        />

        <script>
            ;(() => {
                const saved = localStorage.getItem('theme') || 'light'
                const themeToken = saved === 'dark' ? 'dark' : 'nord'
                document.documentElement.setAttribute('data-theme', themeToken)
                document.documentElement.classList.toggle(
                    'dark',
                    saved === 'dark'
                )
            })()
        </script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"
        ></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
        ></script>
        <script>
            document.addEventListener('alpine:init', () => {
                Alpine.data('shell', () => ({
                    navOpen: false,
                    navigation: [
                        { title: 'Home', target: 'home' },
                        { title: 'Schedule', target: 'schedule' },
                        { title: 'Directions', target: 'directions' },
                        { title: 'Gallery', target: 'gallery' },
                    ],

                    init() {},

                    scrollTo(target) {
                        const el = document.getElementById(target)
                        if (el) {
                            const headerOffset = 80
                            const elementPosition =
                                el.getBoundingClientRect().top
                            const offsetPosition =
                                elementPosition +
                                window.pageYOffset -
                                headerOffset

                            window.scrollTo({
                                top: offsetPosition,
                                behavior: 'smooth',
                            })
                            this.navOpen = false
                        }
                    },
                }))
            })
        </script>

        <% data.metadata.forEach(function(ogTag) { %>
        <meta name="<%= ogTag.name %>" content="<%= ogTag.content %>" />
        <% }); %>

        <title>
            <%= data.metadata.find(x => x.name === 'title')?.content %>
        </title>
        <link href="<%=asset('/app.css')%>" rel="stylesheet" />
        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />

        <style>
            [x-cloak] {
                display: none !important;
            }
            body {
                font-family:
                    'Lato',
                    'Libre Baskerville',
                    system-ui,
                    -apple-system,
                    BlinkMacSystemFont,
                    'Segoe UI',
                    sans-serif;
                background: linear-gradient(to bottom, #fafaf8, #f5f5f0);
                background-attachment: fixed;
            }
            .script-font {
                font-family: 'Dancing Script', cursive;
                font-weight: 700;
                letter-spacing: 0.02em;
            }
            .serif-font {
                font-family: 'Libre Baskerville', serif;
            }
            .glass-surface {
                background:
                    radial-gradient(
                        circle at 20% 20%,
                        rgba(139, 92, 246, 0.14),
                        transparent 32%
                    ),
                    radial-gradient(
                        circle at 80% 0%,
                        rgba(167, 139, 250, 0.12),
                        transparent 34%
                    ),
                    rgba(255, 255, 255, 0.85);
            }
            .dark .glass-surface {
                background:
                    radial-gradient(
                        circle at 20% 20%,
                        rgba(139, 92, 246, 0.18),
                        transparent 32%
                    ),
                    radial-gradient(
                        circle at 80% 0%,
                        rgba(129, 140, 248, 0.14),
                        transparent 34%
                    ),
                    rgba(15, 23, 42, 0.82);
            }
        </style>
    </head>
    <body class="bg-transparent text-slate-900">
        <div class="relative min-h-screen">
            <header
                class="sticky top-0 z-50 border-b border-gray-200/60 bg-white/80 backdrop-blur-md shadow-sm"
            >
                <div
                    class="mx-auto flex max-w-7xl items-center justify-between px-6 py-5"
                >
                    <a
                        href="/"
                        class="flex items-center gap-3 transition-opacity hover:opacity-80"
                    >
                        <div class="leading-tight">
                            <p
                                class="script-font text-2xl lg:text-3xl text-gray-800"
                            >
                                Yvonne &amp; Justin
                            </p>
                            <p
                                class="text-[10px] lg:text-xs font-semibold uppercase tracking-widest text-gray-500"
                            >
                                August 1, 2027
                            </p>
                        </div>
                    </a>

                    <div class="hidden items-center gap-6 lg:gap-8 md:flex">
                        <template x-for="item in navigation" :key="item.target">
                            <button
                                class="text-sm font-semibold text-gray-600 transition-all hover:text-gray-900 hover:scale-105 relative group"
                                @click="scrollTo(item.target)"
                                x-text="item.title"
                            >
                                <span
                                    class="absolute bottom-0 left-0 w-0 h-0.5 bg-gray-800 transition-all group-hover:w-full"
                                ></span>
                            </button>
                        </template>
                    </div>

                    <div class="flex items-center gap-3 md:hidden">
                        <button
                            class="rounded-lg border border-gray-300 bg-white p-2.5 text-gray-700 hover:bg-gray-50 transition-colors"
                            @click="navOpen = !navOpen"
                            aria-label="Toggle menu"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke-width="1.5"
                                stroke="currentColor"
                                class="h-6 w-6"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
                                />
                            </svg>
                        </button>
                    </div>
                </div>

                <div
                    class="mx-auto max-w-7xl bg-white shadow-lg md:hidden"
                    x-show="navOpen"
                    x-transition
                >
                    <template x-for="item in navigation" :key="item.target">
                        <button
                            class="flex w-full items-center justify-between border-t border-gray-200 px-4 py-3 text-base font-semibold text-gray-800 transition hover:bg-gray-50"
                            @click="scrollTo(item.target)"
                        >
                            <span x-text="item.title"></span>
                        </button>
                    </template>
                </div>
            </header>

            <main class="relative"><%- slot %></main>

            <footer
                class="border-t border-gray-200/60 bg-white/80 backdrop-blur-sm px-6 py-10"
            >
                <div
                    class="mx-auto flex max-w-7xl flex-col items-center justify-between gap-4 text-sm text-gray-600 sm:flex-row"
                >
                    <p class="font-light">Â© 2027 Yvonne & Justin Wedding</p>
                    <div class="flex items-center gap-3">
                        <a
                            href="mailto:hello@wedding.com"
                            class="transition hover:text-gray-900 font-medium"
                            >Contact</a
                        >
                    </div>
                </div>
            </footer>
        </div>
    </body>
</html>
